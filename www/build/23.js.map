{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/components/components.module.ts","../../src/components/login-form/login-form.component.ts","../../src/components/register-form/register-form.component.ts","../../src/components/profile-form/profile-form.component.ts","../../src/components/profile-view/profile-view.component.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    ComponentsModule\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import {NgModule} from '@angular/core';\nimport {IonicModule} from 'ionic-angular';\nimport {LoginFormComponent} from './login-form/login-form.component'\nimport { RegisterFormComponent } from './register-form/register-form.component';\nimport { ProfileFormComponent } from './profile-form/profile-form.component';\nimport { ProfileViewComponent } from './profile-view/profile-view.component';\n\n@NgModule({\n    declarations: [\n        LoginFormComponent,\n    RegisterFormComponent,\n    ProfileFormComponent,\n    ProfileViewComponent\n    ],\n    imports: [\n        IonicModule\n    ],\n    exports: [\n        LoginFormComponent,\n    RegisterFormComponent,\n    ProfileFormComponent,\n    ProfileViewComponent\n    ]\n})\nexport class ComponentsModule {\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, EventEmitter, Output} from '@angular/core';\nimport {NavController, ToastController} from \"ionic-angular\";\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\nimport {Account} from \"../../models/account/account.interface\";\nimport { AuthService } from \"../../providers/auth.service\";\nimport firebase from 'firebase';\n@Component({\n  selector: 'app-login-form>',\n  templateUrl: 'login-form.component.html'\n})\nexport class LoginFormComponent {\n  account = {} as Account;\n  @Output() loginStatus: EventEmitter<LoginResponse>;\n\n  constructor(private auth: AuthService, private navCtrl: NavController, private toast: ToastController) {\n    this.loginStatus = new EventEmitter<LoginResponse>();\n  }\n     navigateToPage(pageName:string) {\n    this.navCtrl.push(pageName);\n  }\n  async login(){\n      const loginResponse = await this.auth.SignInWithEmailAndPassword(this.account)\n      this.loginStatus.emit(loginResponse);\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/login-form/login-form.component.ts","import { Component, Output, EventEmitter } from '@angular/core';\nimport { AuthService } from \"../../providers/auth.service\";\nimport {Account} from \"../../models/account/account.interface\";\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\n@Component({\n  selector: 'app-register-form',\n  templateUrl: 'register-form.component.html'\n})\nexport class RegisterFormComponent {\n\n  account = {} as Account\n  @Output() registerStatus: EventEmitter<LoginResponse>\n\n  constructor(private auth: AuthService) {\n    this.registerStatus = new EventEmitter<LoginResponse>();\n  }\n  async register(){\n    try {\n    const result = await \n    this.auth.createUserWithEmailAndPassword(this.account);\n    this.registerStatus.emit(result);\n    \n    }\n    catch(e)\n    {\n      console.error(e);\n      this.registerStatus.emit(e);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/register-form/register-form.component.ts","import { Component, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { Subscription } from \"rxjs/Subscription\";\nimport { ComponentsModule } from \"../../components/components.module\";\nimport { Profile } from '../../models/profile/profile.interface';\nimport { DataService } from \"../../providers/data.service\";\nimport {AuthService} from '../../providers/auth.service';\nimport { User } from \"firebase/app\";\nimport { NavController } from 'ionic-angular/navigation/nav-controller';\n\n@Component({\n  selector: 'app-profile-form',\n  templateUrl: 'profile-form.component.html'\n})\nexport class ProfileFormComponent implements OnDestroy {\n\n  private authenticatedUser$: Subscription;\n  private authenticatedUser: User;\n  profile = {} as Profile;\n\n  @Output() saveProfileResult: EventEmitter<Boolean>;\n\n  constructor(private auth: AuthService, private data: DataService,private navCtrl: NavController) {\n    this.saveProfileResult= new EventEmitter<Boolean>();\n\n    this.authenticatedUser$ = this.auth.getAuthenticatedUser().subscribe((user: User)=> {\n      this.authenticatedUser = user\n    })\n  }\n\n  async saveProfile(){\n    if(this.authenticatedUser){\n      this.profile.email = this.authenticatedUser.email;\n      const result = await this.data.saveProfile(this.authenticatedUser, this.profile);\n      this.saveProfileResult.emit(result);\n    }\n    \n  }\nngOnDestroy(): void {\n  this.authenticatedUser$.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile-form/profile-form.component.ts","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../../providers/data.service';\nimport { AuthService } from '../../providers/auth.service';\nimport { User } from \"firebase/app\";\nimport {App} from 'ionic-angular';\nimport {Profile} from '../../models/profile/profile.interface';\nimport { LoadingController, Loading } from 'ionic-angular';\n\n/**\n * Generated class for the ProfileViewComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'app-profile-view',\n  templateUrl: 'profile-view.component.html'\n})\nexport class ProfileViewComponent implements OnInit{\n\n  userProfile: Profile;\n  loader: Loading;\n  ngOnInit(): void {\n    this.loader.present();\n    \n    this.auth.getAuthenticatedUser().subscribe((user: User) => {\n    this.data.getProfile(user)\n    .valueChanges()\n    .subscribe((profile: Profile) => {\n    this.userProfile = <Profile>profile;\n    this.loader.dismiss();\n    })\n    })\n    }\n  constructor(private data: DataService, private auth: AuthService, private app: App, private loading: LoadingController) {\n    this.loader = this.loading.create({\n      content: 'Profiel laden...'\n    })\n  }\n\n  signOut(){\n    this.auth.signOut();\n    this.app.getRootNav().setRoot('WelcomePage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile-view/profile-view.component.ts","import { Component,EventEmitter, Output } from '@angular/core';\nimport { IonicPage, NavController, ToastController } from 'ionic-angular';\nimport {AngularFireAuth} from 'angularfire2/auth';\n\nimport {Account} from '../../models/account/account.interface';\nimport { LoginResponse } from \"../../models/login/login-response.interface\";\nimport { DataService } from '../../providers/data.service';\nimport {User} from 'firebase/app';\nimport {Subscription} from 'rxjs/Subscription';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  account = {} as Account;\n  profile$: Subscription;\n\n  @Output()loginStatus: EventEmitter<any>;\n  constructor(private afAuth: AngularFireAuth, private navCtrl: NavController, private toast: ToastController, private data: DataService) {\n    this.loginStatus = new EventEmitter<any>();\n  }\n\n  ngOnDestroy(){\n    if(this.profile$)\n    {\n      this.profile$.unsubscribe();\n    }\n   }\n  login(event: LoginResponse){\n    if(!event.error){\n      this.toast.create({\n        message: `Welcome to Online Academy, ${event.result.email}`,\n        duration: 2000,\n        position: 'top',\n      }).present();\n\n       // Retrieving the AngularFireObject and use a function that returns an Observable \n   this.profile$ = this.data.getProfile(<User>event.result)\n   .snapshotChanges() // return an Observable\n   .subscribe(action => {\n     action.payload.val() ? this.navCtrl.setRoot('TabsPage') : this.navCtrl.setRoot('ProfilePage');\n   });\n\n    }\n    else {\n      if(event.error.message = \"There is no user record corresponding to this identifier. The user may have been delted\")\n      {\n        this.toast.create({\n          message: \"Verkeerde combinatie email/wachtwoord of gebruiker bestaat niet.\",\n          duration: 2000\n        }).present();\n      }\n      console.log(event);\n      }\n\n\n  }\n  navigateToPage(pageName:string) {\n    pageName === 'TabsPage' ? this.navCtrl.setRoot(pageName) : this.navCtrl.push(pageName);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}